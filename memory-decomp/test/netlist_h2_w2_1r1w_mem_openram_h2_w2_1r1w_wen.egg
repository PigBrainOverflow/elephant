(include "./elephant.egg")
(let tmp14_o (Wire "tmp14_o" 1))
(let reg_openram_h2_w2_1r1w_ren_i (Wire "reg_openram_h2_w2_1r1w_ren_i" 1))
(let reg_openram_h2_w2_1r1w_ren_o (Wire "reg_openram_h2_w2_1r1w_ren_o" 1))
(let tmp17_o (Wire "tmp17_o" 1))
(let reg_tmp122_i (Wire "reg_tmp122_i" 2))
(let reg_tmp122_o (Wire "reg_tmp122_o" 2))
(let tmp21_o (Wire "tmp21_o" 1))
(let tmp93 (Wire "tmp93" 1))
(let openram_h2_w2_1r1w_wdata_1 (Wire "openram_h2_w2_1r1w_wdata_1" 1))
(let openram_h2_w2_1r1w_wen (Wire "openram_h2_w2_1r1w_wen" 1))
(let tmp113 (Wire "tmp113" 1))
(let openram_h2_w2_1r1w_waddr (Wire "openram_h2_w2_1r1w_waddr" 1))
(let tmp5_o (Wire "tmp5_o" 1))
(let reg_tmp123_i (Wire "reg_tmp123_i" 2))
(let reg_tmp123_o (Wire "reg_tmp123_o" 2))
(let tmp10_o (Wire "tmp10_o" 1))
(let tmp74 (Wire "tmp74" 1))
(let openram_h2_w2_1r1w_wdata_0 (Wire "openram_h2_w2_1r1w_wdata_0" 1))
(let tmp24 (Wire "tmp24" 1))
(let tmp15 (Wire "tmp15" 1))
(let openram_h2_w2_1r1w_ren (Wire "openram_h2_w2_1r1w_ren" 1))
(let openram_h2_w2_1r1w_raddr (Wire "openram_h2_w2_1r1w_raddr" 1))
(let tmp49 (Wire "tmp49" 1))
(let tmp30 (Wire "tmp30" 1))
(let tmp36 (Wire "tmp36" 1))
(let tmp121 (Wire "tmp121" 1))
(let tmp123 (Wire "tmp123" 1))
(let tmp55 (Wire "tmp55" 1))
(let tmp12 (Wire "tmp12" 1))
(let tmp8 (Wire "tmp8" 1))
(let tmp14_i (Wire "tmp14_i" 1))
(let tmp42 (Wire "tmp42" 1))
(let tmp122 (Wire "tmp122" 1))
(let tmp5_i (Wire "tmp5_i" 1))
(let tmp61 (Wire "tmp61" 1))
(let tmp10_i (Wire "tmp10_i" 1))
(let openram_h2_w2_1r1w_rdata_0 (Wire "openram_h2_w2_1r1w_rdata_0" 1))
(let tmp22 (Wire "tmp22" 1))
(let tmp19 (Wire "tmp19" 1))
(let openram_h2_w2_1r1w_rdata_1 (Wire "openram_h2_w2_1r1w_rdata_1" 1))
(let tmp125 (Wire "tmp125" 2))
(let tmp17_i (Wire "tmp17_i" 1))
(let tmp21_i (Wire "tmp21_i" 1))
(let tmp124 (Wire "tmp124" 2))
(union tmp14_o (Select 0 reg_openram_h2_w2_1r1w_ren_i))
(union tmp17_o (Select 0 reg_tmp122_i))
(union tmp21_o (Select 1 reg_tmp122_i))
(union tmp93 (And openram_h2_w2_1r1w_wdata_1 openram_h2_w2_1r1w_wen))
(union tmp113 (And openram_h2_w2_1r1w_waddr openram_h2_w2_1r1w_wen))
(union tmp5_o (Select 0 reg_tmp123_i))
(union tmp10_o (Select 1 reg_tmp123_i))
(union tmp74 (And openram_h2_w2_1r1w_wdata_0 openram_h2_w2_1r1w_wen))
(union tmp24 (Not tmp14_o))
(union tmp15 (Mux openram_h2_w2_1r1w_ren (Concat tmp14_o openram_h2_w2_1r1w_raddr)))
(union tmp49 (And tmp21_o tmp24))
(union tmp30 (And tmp17_o tmp24))
(union tmp36 (And tmp10_o tmp14_o))
(union tmp121 (Not tmp113))
(union tmp123 (And tmp113 openram_h2_w2_1r1w_wen))
(union tmp55 (And tmp5_o tmp14_o))
(union tmp12 (Mux tmp123 (Concat tmp10_o tmp74)))
(union tmp8 (Mux tmp123 (Concat tmp5_o tmp93)))
(union tmp14_i tmp15)
(union tmp42 (Or tmp30 tmp36))
(union tmp122 (And tmp121 openram_h2_w2_1r1w_wen))
(union tmp5_i tmp8)
(union tmp61 (Or tmp49 tmp55))
(union tmp10_i tmp12)
(union reg_openram_h2_w2_1r1w_ren_o tmp14_i)
(union openram_h2_w2_1r1w_rdata_0 tmp42)
(union tmp22 (Mux tmp122 (Concat tmp21_o tmp93)))
(union tmp19 (Mux tmp122 (Concat tmp17_o tmp74)))
(union openram_h2_w2_1r1w_rdata_1 tmp61)
(union tmp125 (Concat tmp10_i tmp5_i))
(union tmp17_i tmp19)
(union tmp21_i tmp22)
(union reg_tmp123_o tmp125)
(union tmp124 (Concat tmp21_i tmp17_i))
(union reg_tmp122_o tmp124)
(delete (Wire "tmp14_o" 1))
(delete (Wire "reg_openram_h2_w2_1r1w_ren_o" 1))
(delete (Wire "tmp17_o" 1))
(delete (Wire "reg_tmp122_o" 2))
(delete (Wire "tmp21_o" 1))
(delete (Wire "tmp93" 1))
(delete (Wire "tmp113" 1))
(delete (Wire "tmp5_o" 1))
(delete (Wire "reg_tmp123_o" 2))
(delete (Wire "tmp10_o" 1))
(delete (Wire "tmp74" 1))
(delete (Wire "tmp24" 1))
(delete (Wire "tmp15" 1))
(delete (Wire "tmp49" 1))
(delete (Wire "tmp30" 1))
(delete (Wire "tmp36" 1))
(delete (Wire "tmp121" 1))
(delete (Wire "tmp123" 1))
(delete (Wire "tmp55" 1))
(delete (Wire "tmp12" 1))
(delete (Wire "tmp8" 1))
(delete (Wire "tmp42" 1))
(delete (Wire "tmp122" 1))
(delete (Wire "tmp61" 1))
(delete (Wire "openram_h2_w2_1r1w_rdata_0" 1))
(delete (Wire "tmp22" 1))
(delete (Wire "tmp19" 1))
(delete (Wire "openram_h2_w2_1r1w_rdata_1" 1))
(delete (Wire "tmp125" 2))
(delete (Wire "tmp124" 2))

(rule
 ((= d 
  (Concat (Mux a (MapSelect i0 x)) (Mux a (MapSelect i1 x))
  ))
  (!= i0 i1)
  (HasType a (Bitvector n))
  (= (log2 (vec-length x)) n))
 ((union d (Read a x)))
:ruleset decomp)

(run-schedule (repeat 15 (saturate typing) (saturate decomp)))
(query-extract openram_h2_w2_1r1w_rdata_0)
(query-extract openram_h2_w2_1r1w_rdata_1)