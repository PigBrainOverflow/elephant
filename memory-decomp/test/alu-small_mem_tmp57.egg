(include "./elephant.egg")
(let instruction_5 (Wire "instruction_5" 1))
(let read_addr_0 (Wire "read_addr_0" 2))
(let instruction_4 (Wire "instruction_4" 1))
(let tmp41_o (Wire "tmp41_o" 1))
(let reg_tmp528 (Wire "reg_tmp528" 2))
(let tmp37_o (Wire "tmp37_o" 1))
(let tmp34_o (Wire "tmp34_o" 1))
(let reg_tmp518 (Wire "reg_tmp518" 2))
(let tmp30_o (Wire "tmp30_o" 1))
(let instruction_6 (Wire "instruction_6" 1))
(let read_addr_1 (Wire "read_addr_1" 2))
(let instruction_7 (Wire "instruction_7" 1))
(let tmp14_o (Wire "tmp14_o" 1))
(let reg_tmp525 (Wire "reg_tmp525" 2))
(let tmp19_o (Wire "tmp19_o" 1))
(let tmp23_o (Wire "tmp23_o" 1))
(let reg_tmp522 (Wire "reg_tmp522" 2))
(let tmp27_o (Wire "tmp27_o" 1))
(let tmp225 (Wire "tmp225" 1))
(let tmp237 (Wire "tmp237" 1))
(let tmp143 (Wire "tmp143" 1))
(let tmp380 (Wire "tmp380" 1))
(let tmp388 (Wire "tmp388" 1))
(let tmp257 (Wire "tmp257" 1))
(let tmp83 (Wire "tmp83" 1))
(let tmp135 (Wire "tmp135" 1))
(let tmp75 (Wire "tmp75" 1))
(let tmp95 (Wire "tmp95" 1))
(let tmp115 (Wire "tmp115" 1))
(let tmp360 (Wire "tmp360" 1))
(let tmp231 (Wire "tmp231" 1))
(let tmp251 (Wire "tmp251" 1))
(let tmp374 (Wire "tmp374" 1))
(let tmp354 (Wire "tmp354" 1))
(let tmp386 (Wire "tmp386" 1))
(let tmp263 (Wire "tmp263" 1))
(let tmp109 (Wire "tmp109" 1))
(let tmp89 (Wire "tmp89" 1))
(let tmp129 (Wire "tmp129" 1))
(let tmp69 (Wire "tmp69" 1))
(let tmp366 (Wire "tmp366" 1))
(let tmp243 (Wire "tmp243" 1))
(let tmp141 (Wire "tmp141" 1))
(let tmp101 (Wire "tmp101" 1))
(let tmp414 (Wire "tmp414" 1))
(let tmp420 (Wire "tmp420" 1))
(let tmp400 (Wire "tmp400" 1))
(let tmp121 (Wire "tmp121" 1))
(let tmp81 (Wire "tmp81" 1))
(let tmp394 (Wire "tmp394" 1))
(let tmp406 (Wire "tmp406" 1))
(let tmp155 (Wire "tmp155" 1))
(let tmp169 (Wire "tmp169" 1))
(let tmp175 (Wire "tmp175" 1))
(let tmp426 (Wire "tmp426" 1))
(let tmp149 (Wire "tmp149" 1))
(let tmp181 (Wire "tmp181" 1))
(let read_data_0 (Wire "read_data_0" 2))
(let tmp161 (Wire "tmp161" 1))
(let read_data_1 (Wire "read_data_1" 2))
(union instruction_5 (Select 1 read_addr_0))
(union instruction_4 (Select 0 read_addr_0))
(union tmp41_o (Select 1 reg_tmp528))
(union tmp37_o (Select 0 reg_tmp528))
(union tmp34_o (Select 1 reg_tmp518))
(union tmp30_o (Select 0 reg_tmp518))
(union instruction_6 (Select 0 read_addr_1))
(union instruction_7 (Select 1 read_addr_1))
(union tmp14_o (Select 0 reg_tmp525))
(union tmp19_o (Select 1 reg_tmp525))
(union tmp23_o (Select 0 reg_tmp522))
(union tmp27_o (Select 1 reg_tmp522))
(union tmp225 (Not instruction_4))
(union tmp237 (And tmp37_o instruction_4))
(union tmp143 (Not instruction_7))
(union tmp380 (And tmp27_o instruction_4))
(union tmp388 (Not instruction_5))
(union tmp257 (And tmp41_o instruction_4))
(union tmp83 (Not instruction_6))
(union tmp135 (And tmp27_o instruction_6))
(union tmp75 (And tmp37_o instruction_6))
(union tmp95 (And tmp41_o instruction_6))
(union tmp115 (And tmp23_o instruction_6))
(union tmp360 (And tmp23_o instruction_4))
(union tmp231 (And tmp14_o tmp225))
(union tmp251 (And tmp19_o tmp225))
(union tmp374 (And tmp34_o tmp225))
(union tmp354 (And tmp30_o tmp225))
(union tmp386 (Or tmp374 tmp380))
(union tmp263 (Or tmp251 tmp257))
(union tmp109 (And tmp30_o tmp83))
(union tmp89 (And tmp19_o tmp83))
(union tmp129 (And tmp34_o tmp83))
(union tmp69 (And tmp14_o tmp83))
(union tmp366 (Or tmp354 tmp360))
(union tmp243 (Or tmp231 tmp237))
(union tmp141 (Or tmp129 tmp135))
(union tmp101 (Or tmp89 tmp95))
(union tmp414 (And tmp386 tmp388))
(union tmp420 (And tmp263 instruction_5))
(union tmp400 (And tmp243 instruction_5))
(union tmp121 (Or tmp109 tmp115))
(union tmp81 (Or tmp69 tmp75))
(union tmp394 (And tmp366 tmp388))
(union tmp406 (Or tmp394 tmp400))
(union tmp155 (And tmp81 instruction_7))
(union tmp169 (And tmp141 tmp143))
(union tmp175 (And tmp101 instruction_7))
(union tmp426 (Or tmp414 tmp420))
(union tmp149 (And tmp121 tmp143))
(union tmp181 (Or tmp169 tmp175))
(union read_data_0 (Concat tmp406 tmp426))
(union tmp161 (Or tmp149 tmp155))
(union read_data_1 (Concat tmp181 tmp161))
;(IsPort "" "read_addr_0" (Input) read_addr_0)
;(IsPort "" "reg_tmp528" (Input) reg_tmp528)
;(IsPort "" "reg_tmp518" (Input) reg_tmp518)
;(IsPort "" "read_addr_1" (Input) read_addr_1)
;(IsPort "" "reg_tmp525" (Input) reg_tmp525)
;(IsPort "" "reg_tmp522" (Input) reg_tmp522)
;(IsPort "" "read_data_0" (Output) read_data_0)
;(IsPort "" "read_data_1" (Output) read_data_1)
(delete (Wire "instruction_5" 1))
(delete (Wire "instruction_4" 1))
(delete (Wire "tmp41_o" 1))
(delete (Wire "tmp37_o" 1))
(delete (Wire "tmp34_o" 1))
(delete (Wire "tmp30_o" 1))
(delete (Wire "instruction_6" 1))
(delete (Wire "instruction_7" 1))
(delete (Wire "tmp14_o" 1))
(delete (Wire "tmp19_o" 1))
(delete (Wire "tmp23_o" 1))
(delete (Wire "tmp27_o" 1))
(delete (Wire "tmp225" 1))
(delete (Wire "tmp237" 1))
(delete (Wire "tmp143" 1))
(delete (Wire "tmp380" 1))
(delete (Wire "tmp388" 1))
(delete (Wire "tmp257" 1))
(delete (Wire "tmp83" 1))
(delete (Wire "tmp135" 1))
(delete (Wire "tmp75" 1))
(delete (Wire "tmp95" 1))
(delete (Wire "tmp115" 1))
(delete (Wire "tmp360" 1))
(delete (Wire "tmp231" 1))
(delete (Wire "tmp251" 1))
(delete (Wire "tmp374" 1))
(delete (Wire "tmp354" 1))
(delete (Wire "tmp386" 1))
(delete (Wire "tmp263" 1))
(delete (Wire "tmp109" 1))
(delete (Wire "tmp89" 1))
(delete (Wire "tmp129" 1))
(delete (Wire "tmp69" 1))
(delete (Wire "tmp366" 1))
(delete (Wire "tmp243" 1))
(delete (Wire "tmp141" 1))
(delete (Wire "tmp101" 1))
(delete (Wire "tmp414" 1))
(delete (Wire "tmp420" 1))
(delete (Wire "tmp400" 1))
(delete (Wire "tmp121" 1))
(delete (Wire "tmp81" 1))
(delete (Wire "tmp394" 1))
(delete (Wire "tmp406" 1))
(delete (Wire "tmp155" 1))
(delete (Wire "tmp169" 1))
(delete (Wire "tmp175" 1))
(delete (Wire "tmp426" 1))
(delete (Wire "tmp149" 1))
(delete (Wire "tmp181" 1))
(delete (Wire "read_data_0" 2))
(delete (Wire "tmp161" 1))
(delete (Wire "read_data_1" 2))
(rule
 ((= d (Concat
   (Mux a (MapSelect 0 x))
   (Mux a (MapSelect 1 x))
  (HasType a (Bitvector n))
  (= (log2 (vec-length x)) n))
 ((union d (Read a x)))
:ruleset decomp)

(run-schedule (repeat 15 (saturate typing) (saturate decomp)))
(query-extract read_data_0)
(query-extract read_data_1)